[tools]
python = { version = "3.12", virtualenv = ".venv" }

[tasks.build]
description = "Build the project"
run = "poetry build --ansi"
alias = "b"
depends = ["install"]

[tasks.install]
description = "Install poetry and dependencies"
run = """
#!/usr/bin/env bash
curl -sSL https://install.python-poetry.org | python3 -
poetry install
"""

[tasks.publish]
description = "Release the project to PyPI"
run = """
#!/bin/bash
poetry publish -u __token__ -p "$(pass PyPI/main-token)" --build
"""
alias = "p"
depends = ["build"]
